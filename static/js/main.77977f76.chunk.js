(this.webpackJsonptraveler=this.webpackJsonptraveler||[]).push([[0],{105:function(e,t,n){e.exports=n.p+"static/media/ambient.51e1df41.ogg"},106:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(28),i=n.n(o),c=(n(90),n(7)),s=n(0),u=n(46),l=n(35),f=Object(l.a)((function(e,t){return{prismColorPrimary:new s.Color("#355cd6"),prismColorSecondary:new s.Color("#6cbca0"),prismPosition:new s.Vector3(0,8,0),cameraPosition:new s.Vector3(0,1.6,20),prismScale:new s.Vector3(1,1.8,1),ringColor:new s.Color("#d7ee9b"),groundColor:new s.Color("#555555"),marsPosition:new s.Vector3(250,500,-600),moon1Position:new s.Vector3(-650,5,-400),moon2Position:new s.Vector3(100,-50,400),glRenderer:null,isMobile:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),effectsEnabled:!0,quality:window.devicePixelRatio,actions:{setGL:function(t){e({glRenderer:t})},setEnableEffects:function(t){e({effectsEnabled:t})},setQuality:function(t){e({quality:t*window.devicePixelRatio})}}}})),m=Object(l.a)((function(e,t){return{audio:!1,toggleAudio:function(){e({audio:!t().audio})}}})),d=f,p=n(80),h=function(e){var t=e.count,n=void 0===t?1500:t,o=(Object(p.a)(e,["count"]),Object(r.useRef)()),i=d((function(e){return e.prismColorSecondary})),u=Object(r.useMemo)((function(){return new s.Object3D}),[]),l=Object(r.useMemo)((function(){return new Array(n).fill(null).map((function(){return{d:10*Math.random(),offset:new s.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize().multiplyScalar(5*Math.random()),speed:Math.random()/200+.01,scale:Math.min(.1,Math.random()/40)}}))}),[n]);return Object(c.g)((function(){l.forEach((function(e,t){var n=e.offset,r=e.scale,a=e.speed,i=e.d+=a/2,c=Math.cos(i)+Math.sin(i)/100,s=Math.sin(i)+Math.cos(2*i)/100,l=Math.cos(i);u.position.set(n.x+c/10,n.y+s/10,n.z+c/10),u.scale.set(r,r,r),u.rotation.set(l,2*l,3*l),u.updateMatrix(),o.current.setMatrixAt(t,u.matrix)})),o.current.instanceMatrix.needsUpdate=!0})),a.a.createElement("instancedMesh",{ref:o,args:[null,null,l.length],position:[0,8,0],frustumCulled:!1},a.a.createElement("icosahedronBufferGeometry",{attach:"geometry",args:[1]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:"#ffffff",emissive:i}))},g=n(9),b=function(e,t){var n=t.axis,r=void 0===n?"y":n,a=t.rate,o=void 0===a?.01:a;return Object(c.g)((function(){e.current.rotation[r]+=o})),e},v=function(e,t){var n=t.axis,r=void 0===n?"y":n,a=t.factor,o=void 0===a?1:a,i=t.defaultValue,s=void 0===i?0:i,u=t.fn,l=void 0===u?"sin":u;return Object(c.g)((function(t){var n=t.clock.getElapsedTime();e.current.position[r]=s+Math[l](n)*o})),e},E=Object(r.forwardRef)((function(e,t){var n=e.count,o=void 0===n?10:n,i=e.height,u=void 0===i?20:i,l=e.rotationOffset,f=void 0===l?10:l,m=d((function(e){return e.ringColor})),p=Object(r.useRef)(),h=Object(r.useMemo)((function(){return new s.Object3D}),[]),g=Object(r.useMemo)((function(){return new Array(o).fill(null).map((function(e,t){return{z:t/o,r:s.MathUtils.degToRad(t*f)}}))}),[o,f]);return Object(c.g)((function(){g.forEach((function(e,t,n){var r=e.z;r>=1&&(e.z=0,t<g.length-1?e.r=n[t+1].r+s.MathUtils.degToRad(f):e.r=n[0].r+s.MathUtils.degToRad(f));var a=e.z+=.001,o=e.r+=.001,i=8*Math.sin(Math.PI*r);h.position.set(0,s.MathUtils.lerp(0,u,a),0),h.rotation.set(Math.PI/2,0,o),h.scale.set(i,i,i),h.updateMatrix(),p.current.setMatrixAt(t,h.matrix)})),p.current.instanceMatrix.needsUpdate=!0})),a.a.createElement("group",Object.assign({ref:t},e),a.a.createElement("instancedMesh",{ref:p,args:[null,null,g.length]},a.a.createElement("torusBufferGeometry",{attach:"geometry",args:[1,.002,5,3]}),a.a.createElement("meshStandardMaterial",{attach:"material",roughness:.1,color:m,emissive:m,emissiveIntensity:.5,opacity:.5,transparent:!0,side:s.DoubleSide})))})),O=n(52),j=function(e){return{prismColorPrimary:e.prismColorPrimary,prismColorSecondary:e.prismColorSecondary,prismPosition:e.prismPosition,prismScale:e.prismScale}},y=function(e){Object.assign({},e);var t=d(j),n=t.prismColorPrimary,o=t.prismColorSecondary,i=t.prismPosition,u=t.prismScale,l=Object(r.useRef)(),f=Object(r.useRef)(),m=Object(r.useRef)(),p=Object(r.useRef)(),h=Object(r.useMemo)((function(){return new s.SphereBufferGeometry(3.5,4,2)}),[]),y=Object(r.useMemo)((function(){return new s.BoxBufferGeometry(1,1,1).toNonIndexed()}),[]),M=Object(O.b)((function(){return{rotation:[Math.random()*Math.PI*4,Math.random()*Math.PI*4,Math.random()*Math.PI*4],scale:[1.4,1.4,1.4],from:{rotation:[0,0,0],scale:[1.4,1.4,1.4]},config:{mass:30,tension:10,friction:6}}})),w=Object(g.a)(M,2),x=w[0],P=w[1];return Object(r.useEffect)((function(){var e=setInterval((function(){P({rotation:[Math.random()*Math.PI*4,Math.random()*Math.PI*4,Math.random()*Math.PI*4]})}),3e3);return function(){clearInterval(e)}}),[P]),v(l,{defaultValue:i.y,factor:.5}),b(l,{rate:.005}),Object(c.g)((function(e){var t=e.clock.getElapsedTime();f.current.material.emissiveIntensity=Math.sin(t*Math.PI*.5)/2+1.5,m.current.intensity=f.current.material.emissiveIntensity,m.current.position.y=l.current.position.y,p.current.intensity=f.current.material.emissiveIntensity,p.current.position.y=-l.current.position.y})),a.a.createElement("group",null,a.a.createElement("group",{ref:l,position:i},a.a.createElement("pointLight",{ref:m,distance:20,color:n}),a.a.createElement("pointLight",{ref:p,distance:20,color:n}),a.a.createElement(O.a.mesh,Object.assign({ref:f,geometry:y},x),a.a.createElement("meshStandardMaterial",{attach:"material",color:o,emissive:n,side:s.DoubleSide})),a.a.createElement("mesh",{scale:u,geometry:h},a.a.createElement("meshStandardMaterial",{attach:"material",color:o,emissive:n,wireframe:!0})),a.a.createElement("mesh",{scale:u,geometry:h},a.a.createElement("meshPhysicalMaterial",{attach:"material",color:o,opacity:.4,transparent:!0}))),a.a.createElement(E,{position:[i.x,i.y-10,i.z]}))},M=n(81),w=n(37),x=n(63),P=n(82),S=n(64);Object(c.e)({EffectComposer:M.a,ShaderPass:w.a,RenderPass:x.a,UnrealBloomPass:P.a});var C=function(e){Object.assign({},e);var t=Object(r.useRef)(),n=Object(c.i)(),o=n.scene,i=n.gl,u=n.size,l=n.camera,f=Object(r.useMemo)((function(){return new s.Vector2(u.width,u.height)}),[u]);return Object(r.useEffect)((function(){t.current.setSize(u.width,u.height)}),[u]),Object(c.g)((function(){return t.current.render()}),2),a.a.createElement("effectComposer",{ref:t,args:[i]},a.a.createElement("renderPass",{attachArray:"passes",scene:o,camera:l}),a.a.createElement("unrealBloomPass",{attachArray:"passes",args:[f,2,1,.2]}),a.a.createElement("shaderPass",{attachArray:"passes",args:[S.a],"material-uniforms-resolution-value":[1/u.width,1/u.height]}))},R=n(65),k=n.n(R),A=n(66),T=n.n(A),L=n(67),I=n.n(L),U=n(68),V=n.n(U),B=function(e,t,n){var r=n.axis,a=void 0===r?new s.Vector3(0,1,0):r,o=n.rate,i=void 0===o?.01:o;return Object(c.g)((function(){e.current.position.sub(t.current.position),e.current.position.applyAxisAngle(a,i),e.current.position.add(t.current.position)})),e},G=function(e){return{marsPosition:e.marsPosition,moon1Position:e.moon1Position,moon2Position:e.moon2Position}},z=function(e){Object.assign({},e);var t=Object(r.useRef)(),n=Object(r.useRef)(),o=Object(r.useRef)(),i=Object(r.useRef)(),u=d(G),l=u.marsPosition,f=u.moon1Position,m=u.moon2Position,p=Object(r.useState)(),h=Object(g.a)(p,2),v=h[0],E=h[1],O=Object(c.h)(s.TextureLoader,k.a),j=Object(c.h)(s.TextureLoader,T.a),y=Object(c.h)(s.TextureLoader,V.a),M=Object(c.h)(s.TextureLoader,I.a);return Object(r.useEffect)((function(){v&&(i.current.target=v)}),[v]),b(t,{rate:-2e-4}),b(n,{rate:-6e-4}),b(o,{rate:5e-4}),B(n,t,{axis:new s.Vector3(-.55,1,0).normalize(),rate:4e-5}),B(o,t,{axis:new s.Vector3(3.667,1,0).normalize(),rate:2e-5}),a.a.createElement(a.a.Fragment,null,a.a.createElement("group",{ref:t,position:l,rotation:[s.MathUtils.degToRad(30),0,s.MathUtils.degToRad(5)]},a.a.createElement("mesh",{scale:[200,200,200],onUpdate:function(e){return E(e)}},a.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[1,64,32]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:"#eeeeee",map:j}))),a.a.createElement("group",{ref:n,position:f},a.a.createElement("mesh",{scale:[30,30,30]},a.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[1,64,32]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:"#eeeeee",map:y}))),a.a.createElement("group",{ref:o,position:m},a.a.createElement("mesh",{scale:[30,30,30]},a.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[1,64,32]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:"#888888",map:M}))),a.a.createElement("group",{position:[-800,200,-2e3]},a.a.createElement("pointLight",{ref:i,color:"#ffe3bf",intensity:1}),a.a.createElement("mesh",{scale:[20,20,20]},a.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[1,64,32]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:"#ffffff",emissiveMap:O,emissive:new s.Color("#ffffff"),emissiveIntensity:1.5}))))},_=n(43),W=n(44);function D(){var e=Object(_.a)(["\n    color: white;\n    background: rgba(0, 0, 0, 0.1);\n    padding: 6px 12px;\n    border-radius: 5px;\n    border: 1px solid white;\n    opacity: 0.8;\n"]);return D=function(){return e},e}var N=W.a.div(D()),q=function(){var e=d((function(e){return e.prismPosition}));return a.a.createElement("group",null,a.a.createElement("mesh",{position:e},a.a.createElement("boxBufferGeometry",{attach:"geometry",args:[0,0,0]}),a.a.createElement(u.a,{center:!0},a.a.createElement(N,null,"Loading..."))))},F=n(78),H=n.n(F),J=function(){var e=Object(c.i)(),t=e.scene,n=e.gl,a=Object(c.h)(s.TextureLoader,H.a);return Object(r.useEffect)((function(){var e=new s.WebGLCubeRenderTarget(a.image.height);e.fromEquirectangularTexture(n,a),t.background=e})),null},Q=function(){var e=Object(c.i)(),t=e.camera,n=e.gl,o=d((function(e){return e})).cameraPosition,i=Object(r.useRef)();return Object(r.useEffect)((function(){var e=n.xr.isPresenting?n.xr.getCamera(t):t;return i.current.add(e),function(){i.current.remove(e)}}),[n.xr.isPresenting,n.xr,t,i]),a.a.createElement("group",{ref:i,position:o})},Y=n(79),$=function(){var e=Object(r.useState)(),t=Object(g.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),i=Object(g.a)(o,2),c=i[0],s=i[1],u=Object(r.useState)(!1),l=Object(g.a)(u,2),f=l[0],m=l[1],p=d((function(e){return e.glRenderer})),h=d((function(e){return e.actions.setEnableEffects})),b=Object(r.useCallback)((function(){n.click(),h(!1)}),[n,h]);return Object(r.useEffect)((function(){if(navigator.xr&&p){var e=Y.a.createButton(p);a(e),navigator.xr.isSessionSupported("immersive-vr").then((function(e){s(e?"Enter VR":"VR Unavailable")}))}}),[p]),Object(r.useEffect)((function(){m("VR Unavailable"===c)}),[c]),[b,c,f]};function K(){var e=Object(_.a)(["\n    position: ",";\n    color: #fff;\n    top: ",";\n    bottom: ",";\n    left: ",";\n    right: ",";\n    width: ",";\n    border: ",";\n    border-radius: 5px;\n    background: rgba(0, 0, 0, 0.1);\n    padding: ",";\n    text-align: center;\n    opacity: 0.8;\n    outline: none;\n    z-index: 999;\n    transition: opacity 0.3s;\n    &:hover {\n        ","\n    }\n"]);return K=function(){return e},e}var X=W.a.button(K(),(function(e){return e.position||"fixed"}),(function(e){return e.top}),(function(e){return e.bottom}),(function(e){return e.left}),(function(e){return e.right}),(function(e){return e.width}),(function(e){return e.border&&"1px solid #fff"}),(function(e){return e.padding||"6px 12px"}),(function(e){return e.disabled?null:"opacity:1"})),Z=function(){var e=m((function(e){return e.audio})),t=m((function(e){return e.toggleAudio})),n=$(),r=Object(g.a)(n,3),o=r[0],i=r[1],c=r[2];return a.a.createElement(a.a.Fragment,null,a.a.createElement(X,{as:"a",top:"10px",left:"10px",border:!0,href:"https://github.com/Mr-Quin/traveler",target:"/"},"Source"),a.a.createElement(X,{bottom:"20px",left:"10px",border:!0,onClick:t},"Audio: ",e?"On":"Off"),a.a.createElement(X,{bottom:"20px",right:"20px",width:"120px",border:!0,onClick:o,disabled:c},i))},ee=n(105),te=new Audio(ee),ne=function(){var e=m((function(e){return e.audio}));return Object(r.useEffect)((function(){te.loop=!0}),[]),Object(r.useEffect)((function(){e?te.play():te.pause()}),[e]),null},re=function(e){return{cameraPosition:e.cameraPosition,effectsEnabled:e.effectsEnabled,prismPosition:e.prismPosition,setGL:e.actions.setGL}},ae=function(){var e=d(re),t=e.cameraPosition,n=e.effectsEnabled,o=e.prismPosition,i=e.setGL;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{vr:!0,concurrent:!0,gl:{antialias:!0},camera:{fov:70,position:t,near:.01,far:4e3},onCreated:function(e){var t=e.gl;t.setClearColor("#07060c"),i(t)},style:{position:"fixed",height:"100%",width:"100%",top:0,left:0},shadowMap:!0},a.a.createElement(r.Suspense,{fallback:a.a.createElement(q,null)},a.a.createElement(h,{count:350}),a.a.createElement(y,null),a.a.createElement(z,null),n?a.a.createElement(J,null):null,a.a.createElement("ambientLight",{args:["#6368e2",.15]}),a.a.createElement(ne,null)),n?a.a.createElement(C,null):null,n?null:a.a.createElement(Q,null),a.a.createElement(u.b,{target:o,minDistance:10,maxDistance:125,touches:{ONE:s.TOUCH.ROTATE,TWO:s.TOUCH.DOLLY_PAN}})),a.a.createElement(Z,null))},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ae,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/traveler",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/traveler","/service-worker.js");oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ie(t,e)}))}}()},65:function(e,t,n){e.exports=n.p+"static/media/2k_sun.f8d91fb7.jpg"},66:function(e,t,n){e.exports=n.p+"static/media/2k_makemake_fictional.37998f7c.jpg"},67:function(e,t,n){e.exports=n.p+"static/media/2k_haumea_fictional.11888d39.jpg"},68:function(e,t,n){e.exports=n.p+"static/media/2k_ceres_fictional.e7dce55f.jpg"},78:function(e,t,n){e.exports=n.p+"static/media/8k_stars_milky_way.6e6ebeca.jpg"},86:function(e,t,n){e.exports=n(106)},90:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.77977f76.chunk.js.map